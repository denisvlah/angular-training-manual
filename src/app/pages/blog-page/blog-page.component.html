<div class="make-post-input">
    <form [formGroup]="form" (ngSubmit)="sendPost()">
        <mat-form-field class="post-field">
            <mat-label>post something</mat-label>
            <input matInput formControlName="postText"  autofocus/>
            @if (!postTextInvalid())
            {
                <mat-error>
                    Min post length is 3 symbols
                </mat-error>                
            }
            
            <button mat-mini-fab matSuffix type="submit" [disabled]="!canSend()">
                <mat-icon>
                    send
                </mat-icon>
            </button>
        </mat-form-field>        
    </form>
</div>
@for(post of posts; track post.id) {
    <app-post [post]="post" (postDeleted)="removePost($event)" ></app-post>    
}

